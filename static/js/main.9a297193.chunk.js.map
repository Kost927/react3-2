{"version":3,"sources":["components/imageGalleryItem/ImageGalleryItem.module.css","index.module.css","components/searchbar/Searchbar.module.css","components/searchbar/Searchbar.js","components/loader/Loader.js","components/imageGallery/ImageGallery.js","components/imageGalleryItem/ImageGalleryItem.js","servises/galleryApi.js","components/modal/Modal.js","components/App.js","index.js","components/modal/Modal.module.css","components/imageGallery/ImageGallery.module.css"],"names":["module","exports","Searchbar","state","inputValue","handleInputSearch","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","className","styles","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","onChange","SearchFormInput","placeholder","Component","Spinner","color","height","width","timeout","ImageGallery","children","loading","error","gallery","fetchGallery","massage","length","btnLoadMore","onClick","ImageGalleryItem","showModal","map","picture","key","id","src","webformatURL","data-image","largeImageURL","alt","searchQuery","page","axios","get","then","response","data","hits","Modal","handleKeyDown","code","onClose","handleClick","console","log","nodeName","window","addEventListener","removeEventListener","Overlay","ModalImg","modalSrc","App","galleryApi","prevState","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","finally","handleSearchSormSubmit","query","openModalFn","image","modalOpen","prevProps","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.9a297193.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__18xn0\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__1d01m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"src_App__3yoA7\",\"Overlay\":\"src_Overlay__1jrm3\",\"Modal\":\"src_Modal__1WLDA\",\"Button\":\"src_Button__2vlHM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3nP09\",\"SearchForm\":\"Searchbar_SearchForm__l0-6e\",\"SearchFormButton\":\"Searchbar_SearchFormButton__18FfJ\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2QS5Z\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3FzPn\"};","import React, { Component } from \"react\";\nimport styles from './Searchbar.module.css'\n\nclass Searchbar extends Component {\n  state = {\n    inputValue: \"\"\n  };\n\n  handleInputSearch = e => {\n    this.setState({ inputValue: e.target.value });\n    \n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.inputValue);\n    this.setState({ inputValue: ''});\n  };\n\n  render() {\n    return (\n      <>\n        <header className={styles.Searchbar}>\n          <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n            <button type=\"submit\" className={styles.SearchFormButton}>\n              <span className={styles.SearchFormButtonLabel}>Search</span>\n            </button>\n            <input\n              onChange={this.handleInputSearch}\n              value={this.state.inputValue}\n              className={styles.SearchFormInput}\n              type=\"text\"\n              placeholder=\"Search images and photos\"\n            />\n          </form>\n        </header>\n      </>\n    );\n  }\n}\n\nexport default Searchbar;\n","import React, {Component} from 'react'\nimport Loader from 'react-loader-spinner'\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\n export default class Spinner  extends Component {\n  //other logic\n    render() {\n\t return(\n\t  <Loader\n\t     type=\"Puff\"\n\t     color=\"#00BFFF\"\n\t     height={100}\n\t     width={100}\n\t     timeout={3000} //3 secs\n\n\t  />\n\t );\n    }\n }","import React from \"react\";\nimport styles from './ImageGallery.module.css'\nimport Spinner from '../loader/Loader'\n\nconst ImageGallery = ({ children, loading, error, gallery, fetchGallery }) => {\n  return (\n    <>\n    {error && <p>Whoops, something goes wrong: {error.massage}</p>}\n    {loading &&  <Spinner/>}\n    {gallery.length > 0 && (<ul className={styles.ImageGallery}>{children}</ul>)}\n     {gallery.length > 0 && <button type=\"button\" className={styles.btnLoadMore} onClick={fetchGallery}>Load more</button>}\n    </>\n  );\n};\n\nexport default ImageGallery;\n","import React from \"react\";\nimport styles from './ImageGalleryItem.module.css'\n\nconst ImageGalleryItem = ({gallery, showModal}) => {\n  \n  return (\n    <>\n    {gallery.map(picture => \n      <li key={picture.id} className={styles.ImageGalleryItem}\n      onClick={() => {\n        showModal(picture);\n      }}>\n        <img src={picture.webformatURL} data-image={picture.largeImageURL} alt=\"\" className=\"ImageGalleryItem-image\" />\n      </li>\n      )}\n    </>\n  );\n};\n\nexport default ImageGalleryItem;\n","import axios from \"axios\";\n\n\nconst fetchGalleryWithQuery = (searchQuery, page) => {\n    const apiKey = \"17518041-b69c9768f70601e4a7571331a\";\n    return axios\n    .get(`https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${searchQuery}&page=${page}&per_page=12&key=${apiKey}`)\n    .then(response => response.data.hits)\n}\n\nexport default {\n    fetchGalleryWithQuery,\n}","import React, { Component } from \"react\";\nimport styles from './Modal.module.css'\n\nexport default class Modal extends Component {\n    componentDidMount() {\n        window.addEventListener(\"keydown\", this.handleKeyDown);\n        window.addEventListener(\"click\", this.handleClick);\n      }\n      componentWillUnmount() {\n        window.removeEventListener(\"keydown\", this.handleKeyDown);\n        window.removeEventListener(\"click\", this.handleClick);\n      }\n    \n      handleKeyDown = (e) => {\n        if (e.code === \"Escape\") {\n          this.props.onClose();\n        }\n      };\n      handleClick = (e) => {\n        console.log(e.target.nodeName);\n        if (e.target.nodeName === \"DIV\") {\n          this.props.onClose();\n        }\n      };\n    \n\n  render() {\n    return (\n      <div className={styles.Overlay}>\n        <div className={styles.Modal}>\n          <img className={styles.ModalImg} src={this.props.modalSrc} alt=\"\" width=\"500\" height=\"500\" />\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport \"./App.module.css\";\n// import axios from 'axios';\nimport Searchbar from \"./searchbar/Searchbar\";\nimport ImageGallery from \"./imageGallery/ImageGallery\";\nimport ImageGalleryItem from \"./imageGalleryItem/ImageGalleryItem\";\nimport galleryApi from \"../servises/galleryApi\";\nimport Modal from \"./modal/Modal\";\n\n\nclass App extends Component {\n  state = {\n    gallery: [],\n    loading: false,\n    error: null,\n  searchQuery: '',\n  page: 1,\n  showModal: false\n  };\n\n  componentDidMount() {\n    // this.setState({\n    //   loading: true\n    // });\n    // this.fetchGallery(\"\");\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    console.log(this.state.page)\n    const prevQuery =prevState.searchQuery;\n    const nextQuery = this.state.searchQuery;\n    if (prevQuery !== nextQuery) {\n      this.fetchGallery();\n    }\n  }\n  \n\n  fetchGallery = () => {\n    galleryApi\n      .fetchGalleryWithQuery(this.state.searchQuery, this.state.page)\n      .then(gallery => this.setState(prevState => ({ gallery: [...prevState.gallery, ...gallery], page: prevState.page + 1 })),\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      }))\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ loading: false }))\n  };\n\n  handleSearchSormSubmit = query => {\n    this.setState({searchQuery: query})\n  };\n\n  openModalFn = (image) => {\n    this.setState({ modalSrc: image.largeImageURL });\n    this.setState({ modalOpen: true });\n  };\n\n  onClose = () => {\n    this.setState({ modalOpen: false });\n  };\n\n  render() {\n    const {modalOpen, modalSrc} = this.state\n    return (\n      <>\n      {modalOpen && <Modal modalSrc={modalSrc} onClose={this.onClose} />}\n        <Searchbar onSubmit={this.handleSearchSormSubmit} />\n        <ImageGallery fetchGallery={this.fetchGallery} loading={this.state.loading} error={this.state.error} gallery={this.state.gallery}>\n          <ImageGalleryItem gallery={this.state.gallery}\n          showModal={this.openModalFn}\n          modalOpen={modalOpen}\n         />\n        </ImageGallery>\n      </>\n    );\n  }\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.module.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <App />,\n\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3zur2\",\"Modal\":\"Modal_Modal__JzWj5\",\"ModalImg\":\"Modal_ModalImg__3vJS4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2J8yT\",\"btnLoadMore\":\"ImageGallery_btnLoadMore__1wfTz\"};"],"sourceRoot":""}